(this["webpackJsonpplant-finder"]=this["webpackJsonpplant-finder"]||[]).push([[0],{51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(14),i=n.n(a),r=(n(51),n(3)),o=(n(52),n(15)),l=(n(53),n(38)),j=n.n(l),u=n(39),d=n.n(u),h=n(1);function b(){return Object(h.jsxs)("nav",{className:"nav",children:[Object(h.jsx)(o.b,{to:"/image-search",children:Object(h.jsx)(j.a,{})}),Object(h.jsx)("h1",{children:Object(h.jsx)(o.b,{to:"/",children:"GenusGenius"})}),Object(h.jsx)(o.b,{to:"/plant-search",children:Object(h.jsx)(d.a,{})})]})}var p=n(44),O=n(8),m=(n(60),n(61),n(24));function g(e){var t=Object(c.useState)(e),n=Object(O.a)(t,2),s=(n[0],n[1],Object(c.useState)()),a=Object(O.a)(s,2),i=(a[0],a[1]);return Object(h.jsxs)("section",{className:"image-card",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:e.result.plant_name}),Object(h.jsx)("h5",{children:"Common Names:"}),Object(h.jsxs)("p",{children:[null===e.result.plant_details.common_names?"No common names found":e.result.plant_details.common_names.join(", ")," "]})]}),Object(h.jsx)("h5",{children:"Description:"}),Object(h.jsxs)("p",{children:[" ",null===e.result.plant_details.wiki_description?"This plant has no info":e.result.plant_details.wiki_description.value]}),Object(h.jsx)("h5",{children:"Taxonomy"}),Object(h.jsxs)("p",{children:["Class: ",e.result.plant_details.taxonomy.class," "]}),Object(h.jsxs)("p",{children:["Genus: ",e.result.plant_details.structured_name.genus]}),Object(h.jsxs)("p",{children:["Species: ",e.result.plant_details.structured_name.species]}),Object(h.jsx)("h5",{children:"Match:"}),Object(h.jsxs)("p",{children:[(100*e.result.probability).toFixed(2),"% "]}),Object(h.jsx)("h5",{children:"More images: "}),Object(h.jsxs)("section",{className:"image-wrapper",children:[Object(h.jsx)("img",{src:e.result.similar_images[0].url,alt:""}),Object(h.jsx)("img",{src:e.result.similar_images[1].url,alt:""})]}),Object(h.jsx)("button",{onClick:function(){console.log("button clicked"),navigator.geolocation.getCurrentPosition((function(t){console.log(t.coords);var n={lat:t.coords.latitude,lng:t.coords.longitude};m.post("/api/plants",{props:e,location:n}),i({lat:t.coords.latitude,lng:t.coords.longitude})}))},children:" mark as a sighting"})]})}function f(){var e=Object(c.useState)(),t=Object(O.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)("Hi there!"),i=Object(O.a)(a,2),r=i[0],o=i[1];Object(c.useEffect)((function(){console.log("trigger use effect hook"),setTimeout((function(){o("Upload an image and I'll try ID it")}),2e3)}));return Object(h.jsxs)("section",{className:"image-search",children:[r,Object(h.jsx)("form",{className:"image-search-form",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"file"}),Object(h.jsx)("button",{className:"search-btn",type:"button",onClick:function(){console.log("click works!");var e=Object(p.a)(document.querySelector("input[type=file]").files).map((function(e){return new Promise((function(t,n){var c=new FileReader;c.onload=function(e){var n=e.target.result;t(n)},c.readAsDataURL(e)}))}));console.log("promises made..."),Promise.all(e).then((function(e){var t={images:e};fetch("/api/image-search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){var t=e.suggestions;s(t)})).catch((function(e){console.error("Error:",e)}))}))},children:"search"})]})}),Object(h.jsxs)("h5",{children:[" ",void 0===n?"":"Showing ".concat(n.length," matches"),"  "]}),void 0===n?"":n.map((function(e,t){return Object(h.jsx)(g,{className:"card",result:e,id:t},t)}))]})}var x=n(40),v=n(41),k=n(45),y=n(43),w=n(16),N=n(24),S=function(e){Object(k.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(x.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={markers:[],showingInfoWindow:!1,activeMarker:{},selectedName:"",selectedImg:"",selectedDescription:""},e.componentDidMount=function(){N.get("/plants",{}).then((function(t){var n=t.data;e.setState({markers:n}),console.log(e.state.markers)})).catch((function(e){console.error("Error:",e)}))},e.displayMarkers=function(){return e.state.markers.map((function(t){return Object(h.jsx)(w.Marker,{onClick:e.onMarkerClick,plant:t.plant_name,description:t.description,url:t.image_url,id:t.id,position:{lat:t.lat,lng:t.lng}},t.id)}))},e.onMarkerClick=function(t,n,c){console.log(c),e.setState({selectedName:t.plant,selectedImg:t.url,selectedDescription:t.description,activeMarker:n,showingInfoWindow:!0}),console.log(e.state)},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.state,t=e.selectedName,n=e.selectedImg,c=e.selectedDescription;return console.log(t),Object(h.jsxs)(w.Map,{google:this.props.google,zoom:6,style:{width:"80%",height:"75%",margin:"5% 10%"},initialCenter:{lat:-33.949501,lng:151.243698},children:[this.displayMarkers(),Object(h.jsx)(w.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:t}),Object(h.jsx)("p",{children:c}),Object(h.jsx)("img",{src:n,style:{width:"35%"},alt:t})]})})]})}}]),n}(c.Component),C=Object(w.GoogleApiWrapper)({apiKey:"AIzaSyCGvzXToYz5QgOpeaTb2RU3DLsdY5ATAGE"})(S),_=(n(95),n(42)),I=n.n(_);function M(){var e=Object(c.useState)(!1),t=Object(O.a)(e,2),n=t[0],s=t[1];return Object(h.jsxs)("div",{className:"slideUpPanel",children:[Object(h.jsxs)("div",{className:"modal ".concat(n?"show":""),onClick:function(){return s(!n)},children:[Object(h.jsx)("div",{children:Object(h.jsx)(I.a,{})}),Object(h.jsx)("div",{className:"text",children:Object(h.jsx)("p",{children:"Some dummy text about the about and the search and something else"})})]}),Object(h.jsx)("div",{className:"overlay ".concat(n?"show":""),onClick:function(){return s(!n)}})]})}n(96),n(97);n(24);function D(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)([]),i=Object(O.a)(a,2),r=i[0];i[1];console.log(r);var o=Object(c.useState)("Hi there!"),l=Object(O.a)(o,2),j=l[0],u=l[1];Object(c.useEffect)((function(){console.log("trigger use effect hook"),setTimeout((function(){u("Search for a plant and I'll see if we have it")}),2e3)}));return Object(h.jsxs)("section",{className:"plant-search",children:[j,Object(h.jsx)("div",{children:Object(h.jsxs)("form",{className:"plant-search-form",children:[Object(h.jsx)("input",{type:"text",onChange:function(e){e.preventDefault(),s({content:e.target.value}),console.log(n)}}),Object(h.jsx)("button",{className:"search-btn",type:"button",onClick:function(e){e.preventDefault(),console.log("submit"),console.log(n)},children:"search"})]})}),Object(h.jsx)("section",{})]})}var T=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(b,{})," ",Object(h.jsxs)(r.c,{children:[Object(h.jsx)(r.a,{path:"/image-search",children:Object(h.jsx)(f,{})}),Object(h.jsx)(r.a,{exact:!0,path:"/",children:Object(h.jsx)(C,{})}),Object(h.jsx)(r.a,{exact:!0,path:"/plant-search",children:Object(h.jsx)(D,{})})]}),Object(h.jsx)(M,{})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,111)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(o.a,{children:Object(h.jsx)(T,{})})}),document.getElementById("root")),A()}},[[99,1,2]]]);
//# sourceMappingURL=main.736388cf.chunk.js.map